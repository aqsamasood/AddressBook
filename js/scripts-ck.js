function clear(e){e.innerHTML=""}function addData(){var e=new XMLHttpRequest;e.open("POST",url,!0);e.setRequestHeader("X-Parse-Application-Id",appId);e.setRequestHeader("X-Parse-REST-API-Key",apiKey);e.setRequestHeader("Content-Type","application/json");var t=new Object;t.name=$("#name").val();t.address=$("#address").val();if(!t.name){alert("Enter Name!!");return}if(!t.address){alert("Enter Address!!");return}var n=JSON.stringify({Name:t.name,Address:t.address});e.send(n)}function writeData(){var e=Parse.Object.extend("AddressBook"),t=new Parse.Query(e);t.find({success:function(e){var t=e.length,n="<p></p>";for(i=0;i<t;i++)n+="<p>Name: "+e[i].get("Name")+"&nbsp &nbsp &nbsp Address: "+e[i].get("Address")+"<br>";document.getElementById(id).innerHTML=n},error:function(e){console.log("An error occured")}})}function search(){var e=$("#searchName").val();if(!e){alert("Enter Name for searching records!!");return}var t=Parse.Object.extend("AddressBook"),n=new Parse.Query(t);n.matches("Name",e);n.find({success:function(e){var t="<p></p>";for(i=0;i<e.length;i++)t+="<p>Name: "+e[i].get("Name")+"&nbsp &nbsp &nbsp Address: "+e[i].get("Address")+"<br>";document.getElementById("searchResult").innerHTML=t}})}function deleteQuery(e){var t=Parse.Object.extend("AddressBook"),n=new Parse.Query(t),r;n.equalTo("Name",e);n.first({success:function(e){e.destroy({success:function(e){writeData();alert("Deleted!!")}})}})}function sort_by_name(){var e="personInfo",t=Parse.Object.extend("AddressBook"),n=new Parse.Query(t);n.ascending("Name");n.find({success:function(t){clear("#personInfo");var n="<p></p>",r=t.length;for(i=0;i<r;i++)n+="<p>Name: "+t[i].get("Name")+"&nbsp &nbsp &nbsp Address: "+t[i].get("Address")+"<br>";document.getElementById(e).innerHTML=n}})}function sort_by_address(){var e="personInfo",t=Parse.Object.extend("AddressBook"),n=new Parse.Query(t);n.ascending("Address");n.find({success:function(t){clear("#personInfo");var n="<p></p>",r=t.length;for(i=0;i<r;i++)n+="<p>Name: "+t[i].get("Name")+"&nbsp &nbsp &nbsp Address: "+t[i].get("Address")+"<br>";document.getElementById(e).innerHTML=n}})}var appId="H12ebyiw3KFdV5dCD2LgqeBJ3yP3rW4iZnmRhlGp",apiKey="Eiob2zKJg8XlAGgihlF0CXwtIJkyDlrwIoyuYlvf",url="https://api.parse.com/1/classes/AddressBook",jsKey="8iMqbUjKprcDQc1RJjGcJizjIqSRi9wqZUjp6yAd";Parse.initialize(appId,jsKey);var id="personInfo";$(document).ready(function(e){$("#form_add").click(function(e){addData();writeData();e.preventDefault();$(this).reload()});$("#search").click(function(e){search();$(this).reload();e.preventDefault()});$("#delete").click(function(e){var t=$("#deleteInfo").val();if(!t){alert("Enter Name for deleting coresspoding records!!");return}deleteQuery(t);e.preventDefault()});$("#sort").click(function(){val=$('input[name="sort"]:checked').val();switch(val){case"sort_by_name":sort_by_name();break;case"sort_by_address":sort_by_address()}})});